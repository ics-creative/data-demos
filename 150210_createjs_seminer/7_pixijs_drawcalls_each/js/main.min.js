var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},project;!function(a){var b=1,c=1,d=35,e=function(){function a(){var a=this;WebFont.load({custom:{families:["FontAwesome"],urls:["//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"],testStrings:{FontAwesome:""}},active:function(){return a.handleFontDetect()}})}return a.prototype.handleFontDetect=function(){var a=this;this.stage=new PIXI.Stage(15921906),this.renderer=PIXI.autoDetectRenderer(innerWidth,innerHeight,null,null,!0),this.container=new PIXI.DisplayObjectContainer;var b=new h(10),c=(b.numItems,new PIXI.Sprite(PIXI.Texture.fromImage("img/more_complications_large_2x.png")));this.container.addChild(c),this.menu=new g,this.menu.x=211,this.menu.y=246,this.maskShape=new PIXI.Graphics,this.menu.mask=this.maskShape,this.container.addChild(this.menu),this.stage.addChild(this.container),this.menu.setup(),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.on("tick",this.handleTick,this),document.body.appendChild(this.renderer.view),this.handleResize(),window.addEventListener("resize",function(){return a.handleResize()})},a.prototype.handleTick=function(){this.renderer.render(this.stage)},a.prototype.handleResize=function(){var a=442,c=486;this.renderer.resize(innerWidth,innerHeight);var d=1;this.container.scale.x=this.container.scale.y=d,this.container.x=(window.innerWidth-a*d)/2,this.container.y=(window.innerHeight-c*d)/2,this.maskShape.clear(),this.maskShape.beginFill(16711680),this.maskShape.drawRect(this.container.x+this.menu.x-f.SIZE_W/2,this.container.y+this.menu.y-f.SIZE_H/2,f.SIZE_W,f.SIZE_H),b=d},a}();a.Main=e;var f=function(){function a(){}return a.SIZE_W=312,a.SIZE_H=400,a}(),g=function(a){function c(){a.call(this),this.mouseDownPoint=new PIXI.Point(0,0),this.mouseDownCenter=new PIXI.Point(0,0),this.easeCenter=new PIXI.Point(0,0),this.isDragging=!1,this.fontList=["f001","f002","f003","f004","f005","f006","f007","f008","f009","f00a","f00b","f00c","f00d","f00e","f010","f011","f012","f013","f014","f015","f016","f017","f018","f019","f01a","f01b","f01c","f01d","f01e","f021","f022","f023","f024","f025","f026","f027","f028","f029","f02a","f02b","f02c","f02d","f02e","f02f","f030","f031","f032","f033","f034","f035","f036","f037","f038","f039","f03a","f03b","f03c","f03d","f03e","f040","f041","f042","f043","f044","f045","f046","f047","f048","f049","f04a"]}return __extends(c,a),c.prototype.setup=function(){var a=this,b=new PIXI.Graphics;b.scale.x=f.SIZE_W/2,b.scale.y=f.SIZE_H/2,b.x=-f.SIZE_W/2>>0,b.y=-f.SIZE_H/2>>0,this.addChild(b),this.layoutManager=new h(10);var c=this.layoutManager.numItems;this.pointCurrent=new createjs.Point,this.listIcons=[];for(var e=0;c>e;e++){var g=new PIXI.Sprite(this.getTexture());g.pivot.x=d,g.pivot.y=d,this.listIcons.push(g),this.addChild(g)}this.stage.mousedown=this.stage.touchstart=function(b){a.handleMouseDown(b)},this.stage.mousemove=this.stage.touchmove=function(b){a.handleMouseMove(b)},this.stage.mouseup=this.stage.mouseupoutside=this.stage.touchend=function(b){a.handleMouseUp(b)},createjs.Ticker.on("tick",this.handleTick,this)},c.prototype.handleMouseDown=function(a){this.mouseDownCenter.x=this.pointCurrent.x,this.mouseDownCenter.y=this.pointCurrent.y,this.mouseDownPoint=a.getLocalPosition(this),this.isDragging=!0},c.prototype.handleMouseMove=function(a){1==this.isDragging&&this.commitProperties(a)},c.prototype.handleMouseUp=function(a){this.commitProperties(a),this.isDragging=!1},c.prototype.commitProperties=function(a){var c=a.getLocalPosition(this);this.pointCurrent.x=c.x-this.mouseDownPoint.x+this.mouseDownCenter.x,this.pointCurrent.y=c.y-this.mouseDownPoint.y+this.mouseDownCenter.y,this.pointCurrent.x=Math.max(1.3*-f.SIZE_W*b,Math.min(1.3*+f.SIZE_W*b,this.pointCurrent.x)),this.pointCurrent.y=Math.max(-f.SIZE_H*b,Math.min(+f.SIZE_H*b,this.pointCurrent.y))},c.prototype.handleTick=function(){this.easeCenter.x+=.1*(this.pointCurrent.x-this.easeCenter.x),this.easeCenter.y+=.1*(this.pointCurrent.y-this.easeCenter.y),this.layoutManager.iconMapRefresh(150,55,{x:this.easeCenter.x/b,y:this.easeCenter.y/b},this.listIcons)},c.prototype.getTexture=function(){var a=this.fontList[this.fontList.length*Math.random()>>0],b=new createjs.Container,c=360*Math.random(),e=new createjs.Shape,f=createjs.Graphics.getHSL(c,80,70),g=createjs.Graphics.getHSL(c,100,50);e.graphics.beginLinearGradientFill([f,g],[0,1],0,-d,0,+d).drawCircle(0,0,d),b.addChild(e);var h=String.fromCharCode(parseInt(a,16)),i=new createjs.Text(h,"42px FontAwesome","white");i.textAlign="center",i.textBaseline="middle",b.addChild(i),b.cache(-d,-d,2*d,2*d);var j=PIXI.Texture.fromCanvas(b.cacheCanvas);return j},c}(PIXI.DisplayObjectContainer),h=function(){function a(a){this.screenW=f.SIZE_W,this.screenH=f.SIZE_H,this.centerW=this.screenW/2,this.centerH=this.screenH/2,this.hexCube=[];for(var b=0;a>b;b++)for(var c=-b;b>=c;c++)for(var d=-b;b>=d;d++)for(var e=-b;b>=e;e++)Math.abs(c)+Math.abs(d)+Math.abs(e)==2*b&&c+d+e==0&&this.hexCube.push([c,d,e])}return Object.defineProperty(a.prototype,"numItems",{get:function(){return this.hexCube.length},enumerable:!0,configurable:!0}),a.prototype.iconMapRefresh=function(a,b,d,e){for(var f=[],g=[],h=[],k=d.x,l=d.y,m=0;m<this.hexCube.length;m++)f[m]={x:(this.hexCube[m][1]+this.hexCube[m][0]/2)*b+k,y:Math.sqrt(3)/2*this.hexCube[m][0]*b+l,scale:0};for(var m=0;m<f.length;m++)g[m]=i.orthoToPolar(f[m].x,f[m].y);for(var m=0;m<g.length;m++){var n=g[m].radius/a;if(n<Math.PI/2)var o=g[m].radius*j.getValue(createjs.Ease.sineInOut,n/(Math.PI/2),1.5,-.5,1),p=j.getValue(createjs.Ease.cubicInOut,n/(Math.PI/2),1,-.5,1);else var o=g[m].radius,p=j.getValue(createjs.Ease.cubicInOut,1,1,-.5,1);h[m]={radius:o,depth:p,radian:g[m].radian}}for(var m=0;m<h.length;m++)f[m]=i.polarToOrtho(h[m].radius,h[m].radian);for(var m=0;m<f.length;m++)f[m].x=Math.round(10*f[m].x)/10,f[m].y=Math.round(10*f[m].y)/10*1.14;for(var q=24,m=0;m<f.length;m++)f[m].scale=Math.abs(f[m].x)>this.screenW/2-q||Math.abs(f[m].y)>this.screenH/2-q?.4*h[m].depth:Math.abs(f[m].x)>this.screenW/2-2*q&&Math.abs(f[m].y)>this.screenH/2-2*q?Math.min(h[m].depth*j.getValue(createjs.Ease.sineInOut,this.screenW/2-Math.abs(f[m].x)-q,.4,.6,q),h[m].depth*j.getValue(createjs.Ease.sineInOut,this.screenH/2-Math.abs(f[m].y)-q,.3,.7,q)):Math.abs(f[m].x)>this.screenW/2-2*q?h[m].depth*j.getValue(createjs.Ease.sineOut,this.screenW/2-Math.abs(f[m].x)-q,.4,.6,q):Math.abs(f[m].y)>this.screenH/2-2*q?h[m].depth*j.getValue(createjs.Ease.sineOut,this.screenH/2-Math.abs(f[m].y)-q,.4,.6,q):h[m].depth;for(var m=0;m<f.length;m++)f[m].x<-this.screenW/2+2*q?f[m].x+=j.getValue(createjs.Ease.sineIn,this.screenW/2-Math.abs(f[m].x)-2*q,0,6,2*q):f[m].x>this.screenW/2-2*q&&(f[m].x+=j.getValue(createjs.Ease.sineIn,this.screenW/2-Math.abs(f[m].x)-2*q,0,-6,2*q)),f[m].y<-this.screenH/2+2*q?f[m].y+=j.getValue(createjs.Ease.sineIn,this.screenH/2-Math.abs(f[m].y)-2*q,0,8,2*q):f[m].y>this.screenH/2-2*q&&(f[m].y+=j.getValue(createjs.Ease.sineIn,this.screenH/2-Math.abs(f[m].y)-2*q,0,-8,2*q));for(var m=0;m<e.length;m++){var r=e[m];r.x=f[m].x,r.y=f[m].y,r.scale.x=r.scale.y=f[m].scale/c}},a}(),i=function(){function a(){}return a.polarToOrtho=function(a,b){var c=a*Math.cos(b),d=a*Math.sin(b);return{x:c,y:d,scale:0}},a.orthoToPolar=function(a,b){var c=Math.sqrt(Math.pow(a,2)+Math.pow(b,2)),d=Math.atan2(b,a);return{radius:c,radian:d}},a}(),j=function(){function a(){}return a.getValue=function(a,b,c,d,e){return d*a(b/e)+c},a}()}(project||(project={})),window.addEventListener("load",function(){new project.Main});